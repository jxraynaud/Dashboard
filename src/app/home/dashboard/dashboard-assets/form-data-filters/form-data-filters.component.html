<div *ngFor="let filterType of dimensionfiltersMapping | keys">
  <md-card>
    <td-expansion-panel>
      <ng-template td-expansion-panel-header>
          <md-card-title>
            Filters for {{filterType}}
          </md-card-title>
      </ng-template>
      <td-expansion-summary>

          <section>
            <div *ngIf="isNoFilterChecked(filterType)">
              Filtered by {{filterType}}, selected :
              <span *ngFor="let filterElemId of dimensionfiltersMapping[filterType] | keys">
                <md-chip selected="false" *ngIf="isChecked(filterElemId,filterType)">
                     {{dimensionfiltersMapping[filterType][filterElemId]}} - {{filterElemId}}
                     <md-icon class="remove_chip" (click)="updateFilters(false,filterElemId,filterType)">cancel</md-icon>
                </md-chip>
              </span>
            </div>

            <!--No checked-->
            <div *ngIf="!isNoFilterChecked(filterType)">
              No {{filterType}} selected, unfiltered for {{filterType}}
            </div>
          </section>


      </td-expansion-summary>
      <div class="filter_box">
        <ul>
            <li *ngFor="let filterElemId of dimensionfiltersMapping[filterType] | keys">
              <!--<md-checkbox
                  [checked]="dimensionFilters[filterType]['checked'].indexOf(filterElemId) != -1"
                  (change)="updateFilters($event,filterElemId,filterType)"
                  >
                   {{dimensionfiltersMapping[filterType][filterElemId]}} ({{filterElemId}})
              </md-checkbox>-->

              <md-chip class="filter_choice" *ngIf="isChecked(filterElemId,filterType)"
                  selected="true"
                  color="primary"
                  (click)="updateFilters(false,filterElemId,filterType)">
                {{dimensionfiltersMapping[filterType][filterElemId]}} ({{filterElemId}})
              </md-chip>
              <md-chip class="filter_choice" *ngIf="!isChecked(filterElemId,filterType)"
                  selected="false"
                  color=""
                  (click)="updateFilters(true,filterElemId,filterType)">
                {{dimensionfiltersMapping[filterType][filterElemId]}} ({{filterElemId}})
              </md-chip>

            </li>
        </ul>
      </div>

    </td-expansion-panel>
  </md-card>

</div>
